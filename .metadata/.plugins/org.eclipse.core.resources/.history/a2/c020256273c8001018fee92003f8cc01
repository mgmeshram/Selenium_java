package test;


	
	public static void main (String[]args) InterruptedException{
		import org.openqa.selenium.By;
		import org.openqa.selenium.WebDriver;
		import org.openqa.selenium.WebElement;
		import org.openqa.selenium.TimeoutException;

		import java.util.List;
		import java.util.concurrent.TimeUnit;

		/**
		 * Utility class for performing common checks on web elements, especially for 
		 * checking presence without causing test failure.
		 */
		public class ElementChecker {

		    private final WebDriver driver;

		   /**
		     * Constructor to initialize the ElementChecker with a WebDriver instance.
		     * @param driver The active Selenium WebDriver instance.
		     */
		    public ElementChecker(WebDriver driver) {
		        this.driver = driver;
		    }

		   n True if at least one matching element is found, False otherwise.
		    public boolean isElementPresent(By locator) {
		        try {
		            // Temporarily set implicit wait to 0 to make the check instantaneous.
		            // This prevents the driver from waiting for the full implicit wait duration 
		            // if the element is not present, making the test faster.
		            // NOTE: This approach is often debated. In modern practices, rely on 
		            // explicit waits for interactions and let findElements() return quickly.
		            
		            // To ensure it doesn't wait (if an implicit wait is set globally):
		            driver.manage().timeouts().implicitlyWait(0, TimeUnit.SECONDS);

		            // Find all elements matching the locator
		            List<WebElement> elements = driver.findElements(locator);

		            // Restore the previous implicit wait time (e.g., 10 seconds)
		            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);

		            if (elements.size() > 0) {
		                System.out.println("✅ Element " + locator.toString() + " is present.");
		                return true;
		            } else {
		                System.out.println("❌ Element " + locator.toString() + " is NOT present.");
		                return false;
		            }

		        } catch (Exception e) {
		            
		            System.err.println("⚠️ An unexpected error occurred while checking for element: " + e.getMessage());
		            
		            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); 
		            return false;
		        }
		    }

		   
		    public boolean isElementVisible(By locator) {
		        if (isElementPresent(locator)) {
		            try {
		                
		                return driver.findElement(locator).isDisplayed();
		            } catch (Exception e) {
		                
		                return false; 
		            }
		        }
		        return false;
		    }
		}
	}
	}
